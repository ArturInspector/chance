# Microservice - Prediction
**Статус**: MVP концепция  
**Цель**: Показать, к чему ведут текущие исполняемые процедуры в обозримом будущем

---

## Суть

Ты делаешь что-то сегодня. Prediction говорит: «Если будешь делать так дальше N дней, вот что получишь».

Не магия. Не идеальное предсказание. Просто:
```
текущие_процедуры + time → expected_outcome
```

Если сегодня не учил ничего, завтра 10 часов учил, потом неделю снова ничего — очевидно, это ни к чему не приведёт. Prediction делает это очевидное видимым.

---

## Проблема

Люди плохо видят последствия собственных действий:
- Действия делаются сегодня
- Результат через месяцы/годы
- Связь неочевидна

**Пример 1**: Пишу код 30 минут в день. Стану ли я программистом за год?  
**Пример 2**: Делаю 3 подхода отжиманий через день. Будет ли эффект через 3 месяца?  
**Пример 3**: Учу 5 слов английского в день. Когда смогу читать книги?

Prediction отвечает на эти вопросы **до** того, как потратишь время.

---

## MVP реализация

### Входные данные

1. **История процедур**
   - Что делал последние N дней
   - Frequency (регулярность)
   - Duration (время на задачу)
   - Quality feedback (если есть)

2. **Целевой запрос**
   - «К чему это приведёт через 3 месяца?»
   - «Хватит ли этого, чтобы достичь X?»

### Процесс

```
User: текущие процедуры → LLM (Claude/GPT-5) → prediction + confidence
```

LLM получает:
- Паттерн твоих действий за последние 30 дней
- Domain knowledge (что нужно для достижения цели)
- Референсные данные (сколько обычно требуется для аналогичных целей)

LLM возвращает:
```json
{
  "prediction": "Через 3 месяца сможешь писать простые скрипты",
  "confidence": "low",
  "reasoning": "Регулярность низкая (3 дня в неделю → 5 дней в неделю → 1 день), 
                объём мал (30 мин/день), но направление правильное",
  "gaps": [
    "Нет практики с реальными проектами",
    "Нет code review",
    "Теория без применения"
  ],
  "recommendations": [
    "Увеличить частоту до 5 дней/неделю",
    "Добавить процедуру: solve 1 real problem/week"
  ]
}
```

### Ключевые фичи

1. **Честность**  
   Если паттерн говорит «это не сработает» — говори прямо.  
   Не продавай иллюзии.

2. **Конкретность**  
   Не «станешь лучше», а «сможешь X, не сможешь Y».

3. **Calibration**  
   Сначала confidence низкая. Со временем (когда есть real outcomes) — калибруется по твоим данным.

---

## В чём можно ошибиться

### 1. Детерминизм (опасно!)

```
Prediction ≠ гарантия
```
Это **вероятностная оценка**, не план. Мир хаотичен (Аксиома 10). Внешние факторы, чёрные лебеди, болезни, жизненные обстоятельства — всё это может сломать любой прогноз.

**Риск**: Пользователь поверит, что «если делаю X, точно получу Y». Разочарование неизбежно.
**Защита**: Всегда показывать confidence level. Если confidence < 50%, явно предупреждать.

### 2. Мотивационная деградация
```
"Prediction говорит, что у меня не получится" → бросает
```
Если prediction негативный, человек может просто сдаться вместо того, чтобы скорректировать процедуры.

**Риск**: Продукт демотивирует вместо того, чтобы помогать.

**Защита**: 
- Всегда давать recommendations (что изменить)
- Фокус не на «не получится», а на «получится, если...»
- Gap analysis: не «плохо», а «вот чего не хватает»

### 3. Overconfidence LLM
LLM может говорить уверенно даже когда не должен. Hallucinations никуда не делись.

**Риск**: Prediction звучит убедительно, но основан на выдумке модели.

**Защита**:
- Требовать reasoning от LLM (почему так думает)
- Cross-check с референсными данными (если есть)
- Честный disclaimer: «Это оценка AI, не абсолют»

### 4. Игнорирование контекста
Два человека делают «30 минут кода в день», но:
- У одного уже 5 лет опыта
- У второго 0 опыта

Результаты будут разные. LLM может не учесть твой starting point.

**Риск**: Prediction для новичка и эксперта одинаковый.

**Защита**: 
- Запрашивать baseline (текущий уровень)
- История — не только процедуры, но и results/feedback

### 5. Паразитные процедуры

Человек делает процедуры, которые **выглядят** правильными, но не ведут к цели.
**Пример**: Читаю книги по программированию 2 часа в день, но не пишу код. Prediction может сказать «прогресс», но реального навыка не будет.
**Риск**: Prediction усиливает паразитное поведение.

**Защита**: 
- Анализ процедур через призму parasitic-goals.md
- Проверка: есть ли direct feedback от действий?

### 6. Короткий горизонт наблюдения
Если у тебя данных на 7 дней, prediction на год — фантазия.
**Риск**: Extrapolation из малых данных.
**Защита**:
- Минимум 14-30 дней данных для серьёзных predictions
- Для коротких периодов — только короткие predictions

---

## Интеграция
### MVP flow

```
1. User вводит: "Последние 30 дней делал X, Y, Z"
2. System формирует prompt для LLM:
   - Список процедур с частотой
   - Целевой вопрос
   - Контекст (starting point, domain)
3. LLM (Claude/GPT-5) генерирует prediction
4. System показывает:
   - Prediction
   - Confidence
   - Gaps
   - Recommendations
5. User может:
   - Accept и скорректировать процедуры
   - Reject и спросить альтернативу
   - Ask deeper questions
```

### Данные для улучшения
Со временем:
- Собираем: prediction → real outcome (через N месяцев)
- Calibration: насколько LLM точен **для тебя**
- Fine-tuning: если много данных, можно подстроить модель

---

## Что НЕ делает Prediction
1. **Не строит карту навыков**  
   Это слишком сложно для MVP. Можно добавить позже, но сначала простое: procedure → outcome.
2. **Не гарантирует результат**  
   Только оценка вероятности.
3. **Не заменяет thinking**  
   LLM — инструмент, не истина. Критическое мышление на твоей стороне.
4. **Не предсказывает внешние факторы**  
   Не может знать, что через месяц ты заболеешь или переедешь.

---

## Почему это полезно
1. **Ранний feedback**  
   Узнаёшь «это не работает» через неделю, а не через год.
2. **Коррекция на ходу**  
   Recommendations позволяют изменить курс до того, как слишком поздно.
3. **Реалистичные ожидания**  
   «30 минут в день недостаточно для X за 3 месяца» — честно, хоть и неприятно.
4. **Мотивация через clarity**  
   Когда понятно «если делать ТАК, получу ВОТ ЭТО», проще придерживаться плана.

---

## Next steps (после MVP)

1. **Skill graph**  
   Карта зависимостей навыков. Но это сложно. Пока откладываем.

2. **Real calibration**  
   Собрать данные «prediction vs reality», улучшить точность.

3. **Multi-domain predictions**  
   Сейчас один domain (например, coding). Потом — фитнес, языки, карьера, etc.

4. **Community benchmarks**  
   «У 80% людей с таким паттерном результат был X». Если есть данные.

---

## Итого

Prediction — это честное зеркало. Оно показывает, куда ты **реально** идёшь, основываясь на том, что делаешь **сейчас**. 
Не магия. Не гарантия. Просто: «Вот данные, вот паттерн, вот вероятный исход».
Если исход не нравится — меняй паттерн. Prediction даёт feedback **до** того, как потратил месяцы впустую.
Главное правило: **будь честен с собой**. Если prediction говорит «не сработает», не игнорируй. Спроси «что изменить?» и действуй.
